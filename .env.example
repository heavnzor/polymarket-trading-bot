# =============================================================================
# Polymarket Trading Bot â€” Environment Variables
# =============================================================================
# Copy this file to .env and fill in your values.
# NEVER commit .env to version control.
# =============================================================================

# Polymarket
POLYMARKET_PRIVATE_KEY=your_polygon_private_key
POLYMARKET_FUNDER_ADDRESS=0xYOUR_PROXY_WALLET_ADDRESS
POLYGON_RPC_URL=https://polygon-bor-rpc.publicnode.com
USDC_E_ADDRESS=0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174

# Anthropic (Claude API or Azure Foundry)
ANTHROPIC_API_KEY=your_anthropic_api_key
ANTHROPIC_FOUNDRY_BASE_URL=https://your-anthropic-endpoint.example.com/anthropic
ANTHROPIC_MODEL=claude-opus-4-6
ANTHROPIC_API_VERSION=2024-05-01-preview

# Telegram
TELEGRAM_BOT_TOKEN=your_telegram_bot_token
TELEGRAM_CHAT_ID=your_chat_id

# Trading - Core
CONFIRMATION_THRESHOLD_USDC=5
MIN_EDGE_PERCENT=4
MIN_NET_EDGE_PERCENT=10
ANALYSIS_INTERVAL_MINUTES=30
STOP_LOSS_PERCENT=20

# Strategy (single mode in this version)
TRADING_STRATEGY=active

# Trading - Advanced
DRAWDOWN_STOP_LOSS_PERCENT=15
MAX_CONCENTRATION_PERCENT=40
MAX_CORRELATED_POSITIONS=3
PRICE_STALENESS_THRESHOLD=0.03
ORDER_FILL_TIMEOUT_SECONDS=300
MAX_SLIPPAGE_BPS=300
MIN_SOURCE_QUALITY=0.35
ESTIMATED_FEE_BPS=20
MIN_CYCLE_MINUTES=15
MAX_CYCLE_MINUTES=120
HEARTBEAT_ENABLED=true
HEARTBEAT_INTERVAL_SECONDS=5

# Learning & auto-correction
LEARNING_MODE=true
LEARNING_REVIEW_INTERVAL=10
LEARNING_AUTO_APPLY=true
LEARNING_AUTO_FIX_LOGS=true
LEARNING_MAX_COMMITS_PER_DAY=6
LEARNING_GIT_ENABLED=true
LEARNING_GIT_PUSH=true
LEARNING_GIT_REMOTE=origin
LEARNING_GIT_BASE_BRANCH=main
# LEARNING_GIT_WORKDIR=/absolute/path/to/polymarket
# LEARNING_LOG_FILE=/absolute/path/to/polymarket/logs/bot.log

# Control plane (Django + PostgreSQL + Redis)
CONTROL_PLANE_SECRET_KEY=replace_with_secure_random_string
CONTROL_PLANE_DEBUG=false
CONTROL_PLANE_ALLOWED_HOSTS=127.0.0.1,localhost
CONTROL_PLANE_CORS_ALLOWED_ORIGINS=http://localhost:3000
CONTROL_PLANE_CSRF_TRUSTED_ORIGINS=http://localhost:3000
CONTROL_PLANE_DB_ENGINE=postgres
POSTGRES_DB=polybot_control_plane
POSTGRES_USER=polybot
POSTGRES_PASSWORD=replace_with_secure_password
POSTGRES_HOST=127.0.0.1
POSTGRES_PORT=5432
CONTROL_PLANE_REDIS_URL=redis://127.0.0.1:6379/0
CONTROL_PLANE_BRIDGE_TOKEN=replace_with_secure_bridge_token
CONTROL_PLANE_ALLOW_ANONYMOUS_WEBSOCKET=true

# Frontend
NEXT_BASE_PATH=/bot
NEXT_PUBLIC_CONTROL_PLANE_URL=/bot/api/v1
NEXT_PUBLIC_CONTROL_PLANE_WS_URL=/bot/ws/control-plane/
DASHBOARD_PASSWORD=replace_with_dashboard_password

# Market Making - Core parameters
MM_QUOTE_SIZE_USD=6
MM_MAX_INVENTORY_PER_MARKET=12
MM_MAX_TOTAL_EXPOSURE=35
MM_MAX_MARKETS=8

# Market Making - Pricing (CRITICAL for competitive spreads)
MM_DELTA_MIN=0.5
MM_DELTA_MAX=2.0

# Market Making - Market selection
MM_MIN_DEPTH_USD=50
MM_MIN_SPREAD_PTS=0.5
MM_MIN_ACTIVITY_PER_MIN=0.5

# Execution behavior
MM_POST_ONLY=false
MM_CROSS_REJECT_THRESHOLD=3
MM_CROSS_COOLDOWN_SECONDS=300
MM_CROSS_COOLDOWN_MAX_SECONDS=600
CD_POST_ONLY=true
CD_MAX_PER_TRADE_USDC=8
CD_MAX_POSITION_PCT=8
CD_KELLY_FRACTION=0.20

# Early market detection
MM_EARLY_MARKET_HOURS=48
MM_EARLY_MARKET_MIN_DEPTH_USD=50
MM_EARLY_MARKET_MIN_ACTIVITY=0.2
MM_EARLY_MARKET_BOOST=2
MM_EARLY_MARKET_MAX_SLOTS=2

# Guard news context
GUARD_NEWS_ENABLED=true
GUARD_NEWS_MAX_HEADLINES=5
GUARD_NEWS_CACHE_MINUTES=30

# Local dev overrides (optional):
# NEXT_PUBLIC_CONTROL_PLANE_URL=http://127.0.0.1:8000/api/v1
# NEXT_PUBLIC_CONTROL_PLANE_WS_URL=ws://127.0.0.1:8000/ws/control-plane/
